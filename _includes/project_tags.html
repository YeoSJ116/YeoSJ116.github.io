
<section class="section--center mdl-grid mdl-grid--no-spacing mdl-shadow--2dp">
    <div id="tag-filter" class="mdl-card__supporting-text mdl-grid mdl-grid--no-spacing">
        <h3>Tag filter</h3>
        {% if site.enableTags ==  true %} 
        <span class="label tag-filter tag-cloud all" style="color:white; background-color:#ff5200">Reset</span>
        {% assign tagarray = site.tagarray %}
        {% for project in site.data.projects %}
            {% for tag in project.tags %}
                {% assign tagarray = tagarray | push: tag %}
            {% endfor %}
        {% endfor %}

        {% assign tags = tagarray[1] %}
        {% for item in tagarray %}
            {% assign tagDown = item | downcase %}
            {% assign tagComp = tags | downcase %}
            {% unless tagComp contains tagDown %}
                {% capture tags %}{{ tags }}|{{ item }}{% endcapture %}
            {% endunless %}
        {% endfor %}

        {% assign taglist = tags | split: '|' | sort %}
        {% for tag in taglist %}
            <span class="label tag-filter tag-cloud" data-tag="{{ tag | downcase }}">{{ tag }}</span>
        {% endfor %}
        {% endif %}
    </div>
</section>
